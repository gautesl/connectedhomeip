
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Building and Running CHIP Linux Examples for i.MX 8M Mini EVK &#8212; Matter  documentation</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=62ba249389abaaa9ffc34bf36a076bdc1d65ee18" type="text/css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=f31d14ad54b65d19161ba51d4ffff3a77ae00456"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Commissioning NXP K32W using Android CHIPTool" href="nxp_k32w_android_commissioning.html" />
    <link rel="prev" title="nRF Connect platform overview" href="nrfconnect_platform_overview.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/logo.png" class="logo" alt="logo">
      
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Contents
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../QUICK_START.html">
   Quick Start
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../PROJECT_FLOW.html">
   Matter Project Flow
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../VSCODE_DEVELOPMENT.html">
   Visual Studio Code Development
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../api/index.html">
   API
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../api/device_runner.html">
     CHIP on-device testing
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../api/device_runner_dispatch.html">
     CHIP on-device test dispatch
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../discussion/index.html">
   Discussion
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../discussion/lwip_ipv6.html">
     LwIP changes for Matter
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="index.html">
   Guides
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="BUILDING.html">
     Building Matter
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="access-control-guide.html">
     Access Control Guide
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="android_building.html">
     Building Android
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="chip_tool_guide.html">
     Working with the CHIP Tool
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="infineon_p6_software_update.html">
     Matter Software Update with Infineon P6 example applications
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="ip_commissioning.html">
     IP commissioning
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="matter-repl.html">
     Matter Python REPL
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="mbedos_add_new_target.html">
     Mbed-OS add new hardware target
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="mbedos_commissioning.html">
     Matter Arm Mbed OS provisioning guide
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="mbedos_platform_overview.html">
     Mbed-OS platform overview
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nrfconnect_android_commissioning.html">
     Commissioning nRF Connect Accessory using Android CHIPTool
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nrfconnect_examples_cli.html">
     Using CLI in nRF Connect examples
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nrfconnect_examples_configuration.html">
     Configuring nRF Connect examples
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nrfconnect_examples_software_update.html">
     Performing Device Firmware Upgrade in the nRF Connect examples
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nrfconnect_factory_data_configuration.html">
     Configuring factory data for the nRF Connect examples
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nrfconnect_platform_overview.html">
     nRF Connect platform overview
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Building and Running CHIP Linux Examples for i.MX 8M Mini EVK
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nxp_k32w_android_commissioning.html">
     Commissioning NXP K32W using Android CHIPTool
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="openthread_border_router_pi.html">
     Setup OpenThread Border Router on Raspberry Pi
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="openthread_rcp_nrf_dongle.html">
     Configuring OpenThread Radio Co-processor on nRF52840 Dongle
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="python_chip_controller_advanced_usage.html">
     Using Python CHIP Controller advanced features
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="python_chip_controller_building.html">
     Working with Python CHIP Controller
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="silabs_efr32_building.html">
     Building Silicon Labs EFR32 examples
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="silabs_efr32_software_update.html">
     Matter Software Update with EFR32 example applications
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="simulated_device_linux.html">
     Simulated Device How-To (Linux)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="ti_platform_overview.html">
     Texas Instruments platform overview
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="troubleshooting_avahi.html">
     Troubleshooting Avahi
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../style/index.html">
   Style Guides
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../style/STYLE_MAKEFILES.html">
     CHIP Makefile Style Guide
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../style/style_guide.html">
     Matter Documentation Style Guide
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../examples/index.html">
   Examples
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/all-clusters-app/ameba/README.html">
     CHIP Ameba All Clusters Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/all-clusters-app/cc13x2x7_26x2x7/README.html">
     Matter CC1352 CC2652 All-clusters Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/all-clusters-app/esp32/README.html">
     CHIP ESP32 All Clusters Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/all-clusters-app/linux/README.html">
     Matter Linux/Mac All Clusters Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/all-clusters-app/mbed/README.html">
     Matter Arm Mbed OS All Clusters Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/all-clusters-app/nrfconnect/README.html">
     Matter nRF Connect All Clusters Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/all-clusters-app/nxp/mw320/README.html">
     Matter MW320 All Clusters Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/all-clusters-app/p6/README.html">
     CHIP P6 All Clusters Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/all-clusters-minimal-app/ameba/README.html">
     CHIP Ameba All Clusters Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/all-clusters-minimal-app/cc13x2x7_26x2x7/README.html">
     Matter CC1352 CC2652 All-clusters Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/all-clusters-minimal-app/esp32/README.html">
     CHIP ESP32 All Clusters Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/all-clusters-minimal-app/mbed/README.html">
     Matter Arm Mbed OS All Clusters Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/all-clusters-minimal-app/nrfconnect/README.html">
     Matter nRF Connect All Clusters Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/all-clusters-minimal-app/p6/README.html">
     CHIP P6 All Clusters Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/bridge-app/esp32/README.html">
     CHIP ESP32 Bridge App Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/bridge-app/linux/README.html">
     CHIP Linux Bridge Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/chef/README.html">
     MATTER CHEF APP
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/chef/README_DEVICE.html">
     Matter Shell - Device Layer module
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/chef/README_OTCLI.html">
     Matter Shell - OpenThread CLI pass-through
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/chef/README_SHELL.html">
     Matter Shell Reference
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/chef/nrfconnect/README.html">
     CHIP nRF Connect SDK Shell Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/chef/sample_app_util/README.html">
     Chef Build Conventions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/chip-tool/README.html">
     Matter Client Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/darwin-framework-tool/README.html">
     Matter darwin-framework-tool
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/lighting-app/ameba/README.html">
     CHIP Ameba Lighting Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/lighting-app/bouffalolab/bl602/README.html">
     BL602
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/lighting-app/cyw30739/README.html">
     Matter CYW30739 Lighting Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/lighting-app/efr32/README.html">
     CHIP EFR32 Lighting Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/lighting-app/esp32/README.html">
     Matter ESP32 Lighting Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/lighting-app/linux/README.html">
     CHIP Linux Lighting Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/lighting-app/mbed/README.html">
     Matter Arm Mbed OS Lighting Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/lighting-app/nrfconnect/README.html">
     Matter nRF Connect Lighting Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/lighting-app/nxp/k32w/k32w0/README.html">
     CHIP K32W061 Lighting Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/lighting-app/p6/README.html">
     CHIP P6 Lighting Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/lighting-app/python/README.html">
     Python-based lighting example (bridge) device to DALI
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/lighting-app/qpg/README.html">
     Matter QPG6105 SDK
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/lighting-app/telink/README.html">
     Build and flash
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/lighting-app/tizen/README.html">
     CHIP Tizen Lighting Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/lighting-app/qpg/APPLICATION.html">
     Matter QPG6105 Lighting Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/light-switch-app/efr32/README.html">
     CHIP EFR32 Light Switch Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/light-switch-app/esp32/README.html">
     Matter ESP32 Light-switch Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/light-switch-app/nrfconnect/README.html">
     Matter nRF Connect Light Switch Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/light-switch-app/telink/README.html">
     Build and flash
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/lock-app/cc13x2x7_26x2x7/README.html">
     Matter CC1352 CC2652 Lock Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/lock-app/cc32xx/README.html">
     Matter
     <code class="docutils literal notranslate">
      <span class="pre">
       CC32XXSF
      </span>
     </code>
     Lock Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/lock-app/cyw30739/README.html">
     Matter CYW30739 Lock Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/lock-app/efr32/README.html">
     CHIP EFR32 Lock Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/lock-app/esp32/README.html">
     CHIP ESP32 Lock Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/lock-app/linux/README.html">
     Lock Application for Linux
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/lock-app/mbed/README.html">
     Matter Arm Mbed OS Lock Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/lock-app/nrfconnect/README.html">
     Matter nRF Connect Lock Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/lock-app/nxp/k32w/k32w0/README.html">
     CHIP K32W061 Lock Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/lock-app/p6/README.html">
     Matter P6 Lock Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/lock-app/qpg/README.html">
     Matter QPG6105 SDK
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/lock-app/qpg/APPLICATION.html">
     Matter QPG6105 Lock Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/log-source-app/linux/README.html">
     log-source-app
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/minimal-mdns/README.html">
     Minimal mDNS example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/ota-provider-app/esp32/README.html">
     CHIP ESP32 OTA Provider Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/ota-provider-app/linux/README.html">
     ota-provider-app
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/ota-requestor-app/ameba/README.html">
     CHIP Ameba OTA Requestor Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/ota-requestor-app/cyw30739/README.html">
     Matter CYW30739 OTA Requestor Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/ota-requestor-app/esp32/README.html">
     CHIP ESP32 OTA Requestor Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/ota-requestor-app/linux/README.html">
     ota-requestor-app (Linux)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/ota-requestor-app/mbed/README.html">
     Matter Arm Mbed OS Lock Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/ota-requestor-app/p6/README.html">
     CHIP P6 OTA Requestor Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/persistent-storage/cc13x2x7_26x2x7/README.html">
     Matter CC1352 CC2652 Persistent Storage Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/persistent-storage/efr32/README.html">
     CHIP EFR32 Persistent Storage Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/persistent-storage/esp32/README.html">
     CHIP ESP32 Persistent Storage Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/persistent-storage/linux/README.html">
     CHIP Linux Persistent Storage Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/persistent-storage/p6/README.html">
     CHIP P6 Persistent Storage Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/persistent-storage/qpg/README.html">
     Matter QPG6105 SDK
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/persistent-storage/qpg/APPLICATION.html">
     CHIP QPG6105 Persistent Storage Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/pigweed-app/ameba/README.html">
     CHIP Ameba Pigweed Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/pigweed-app/efr32/README.html">
     CHIP EFR32 Pigweed Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/pigweed-app/esp32/README.html">
     CHIP ESP32 Pigweed Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/pigweed-app/mbed/README.html">
     Matter Arm Mbed OS Pigweed Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/pigweed-app/nrfconnect/README.html">
     Matter nRF Connect Pigweed Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/pump-app/cc13x2x7_26x2x7/README.html">
     Matter CC1352 CC2652 Pump Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/pump-app/nrfconnect/README.html">
     Matter nRF Connect Pump Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/pump-app/cc13x2x7_26x2x7/doc/programming-ccs.html">
     Programming and Debugging with CCS
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/pump-app/cc13x2x7_26x2x7/doc/programming-uniflash.html">
     Programming with UniFlash
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/pump-controller-app/cc13x2x7_26x2x7/README.html">
     Matter CC1352 CC2652 Pump Controller Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/pump-controller-app/nrfconnect/README.html">
     Matter nRF Connect Pump Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/pump-controller-app/cc13x2x7_26x2x7/doc/programming-ccs.html">
     Programming and Debugging with CCS
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/pump-controller-app/cc13x2x7_26x2x7/doc/programming-uniflash.html">
     Programming with UniFlash
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/shell/README.html">
     Matter Shell Reference
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/shell/README_DEVICE.html">
     Matter Shell - Device Layer module
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/shell/README_OTCLI.html">
     Matter Shell - OpenThread CLI pass-through
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/shell/README_SERVER.html">
     Matter Shell - App Server module
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/shell/cc13x2x7_26x2x7/README.html">
     Matter CC1352 CC2652 Shell Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/shell/mbed/README.html">
     Matter Arm Mbed OS Shell Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/shell/nrfconnect/README.html">
     Matter nRF Connect SDK Shell Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/shell/nxp/k32w/k32w0/README.html">
     CHIP NXP K32W Shell Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/temperature-measurement-app/esp32/README.html">
     CHIP ESP32 Temperature Sensor Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/tv-app/linux/README.html">
     CHIP TV Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/tv-casting-app/android/README.html">
     Matter TV Casting Android App Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/tv-casting-app/darwin/TvCasting/README.html">
     Matter TV Casting iOS App Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/tv-casting-app/linux/README.html">
     CHIP TV Casting App Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/window-app/efr32/README.html">
     CHIP EFR32 Window Covering Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../examples/window-app/nrfconnect/README.html">
     Matter nRF Connect Window Covering Example Application
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../BUG_REPORT.html">
   Reporting bugs
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Theme by the <a href="https://ebp.jupyterbook.org">Executable Book Project</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>
<a href="https://github.com/project-chip/connectedhomeip/edit/master/docs/guides/nxp_imx8m_linux_examples.md"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="bottom"
title="Edit this page"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>

</a>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../_sources/guides/nxp_imx8m_linux_examples.md.txt"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.md</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#building">
   Building
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#commandline-arguments">
   Commandline arguments
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#running-the-examples-on-i-mx-8m-mini-evk">
   Running the Examples on i.MX 8M Mini EVK
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Building and Running CHIP Linux Examples for i.MX 8M Mini EVK</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#building">
   Building
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#commandline-arguments">
   Commandline arguments
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#running-the-examples-on-i-mx-8m-mini-evk">
   Running the Examples on i.MX 8M Mini EVK
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section id="building-and-running-chip-linux-examples-for-i-mx-8m-mini-evk">
<h1>Building and Running CHIP Linux Examples for i.MX 8M Mini EVK<a class="headerlink" href="#building-and-running-chip-linux-examples-for-i-mx-8m-mini-evk" title="Permalink to this headline">#</a></h1>
<p>This document describes how to build below Linux examples with the NXP embedded
Linux Yocto SDK and then run the output executable files on the <strong>NXP i.MX 8M</strong>
<strong>Mini EVK</strong> development board.</p>
<ul class="simple">
<li><p><a class="reference internal" href="../examples/all-clusters-app/linux/README.html"><span class="doc std std-doc">CHIP Linux All-clusters Example</span></a></p></li>
<li><p><a class="reference internal" href="../examples/lighting-app/linux/README.html"><span class="doc std std-doc">CHIP Linux Lighting Example</span></a></p></li>
<li><p><a class="reference external" href="https://github.com/project-chip/connectedhomeip/tree/master/examples/thermostat/linux">CHIP Linux Thermostat Example</a></p></li>
<li><p><a class="reference internal" href="../examples/chip-tool/README.html"><span class="doc std std-doc">CHIP Linux CHIP-tool Example</span></a></p></li>
<li><p><a class="reference internal" href="../examples/ota-provider-app/linux/README.html"><span class="doc std std-doc">CHIP Linux OTA-provider Example</span></a></p></li>
</ul>
<p>This document has been tested on:</p>
<ul class="simple">
<li><p>x64 host machine to build (cross-compile) the example</p>
<ol class="arabic simple">
<li><p>running Ubuntu for 64bit PC(AMD64) desktop 20.04 LTS.</p></li>
</ol>
</li>
<li><p><strong>NXP i.MX 8M Mini EVK</strong> board to run the example</p>
<ol class="arabic simple">
<li><p>running Yocto image generated from the NXP released Yocto source code.</p></li>
</ol>
</li>
</ul>
<p>The Yocto Project is an open source collaboration project focused on embedded
Linux OS development. For more information about this project, see the
<a class="reference external" href="https://www.yoctoproject.org/">Yocto Project page</a>.</p>
<hr>
<ul class="simple">
<li><p><a class="reference internal" href="#building-and-running-chip-linux-examples-for-i-mx-8m-mini-evk"><span class="std std-doc">Building and Running CHIP Linux Examples for i.MX 8M Mini EVK</span></a></p>
<ul>
<li><p><a class="reference internal" href="#building"><span class="std std-doc">Building</span></a></p></li>
<li><p><a class="reference internal" href="#commandline-arguments"><span class="std std-doc">Commandline arguments</span></a></p></li>
<li><p><a class="reference internal" href="#running-the-examples-on-i-mx-8m-mini-evk"><span class="std std-doc">Running the Examples on i.MX 8M Mini EVK</span></a></p></li>
</ul>
</li>
</ul>
<hr>
<section id="building">
<h2>Building<a class="headerlink" href="#building" title="Permalink to this headline">#</a></h2>
<p>Before building the CHIP Linux Examples, the Yocto source code released by NXP
needs to be downloaded, then the Yocto SDK and the EVK Linux SD card image need
to be generated.</p>
<ul>
<li><p>Download the Yocto source code and generate the Yocto SDK and the SD card
image</p>
<p>The Yocto source code is maintained with a repo manifest, the tool <code class="docutils literal notranslate"><span class="pre">repo</span></code> is
used to download the source code.</p>
<p>This document is tested with the i.MX Yocto 5.10.35_2.0.0 release. Run the
commands below to download this release:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>  ```
  mkdir ~/bin
  curl http://commondatastorage.googleapis.com/git-repo-downloads/repo  &gt; ~/bin/repo
  chmod a+x ~/bin/repo
  export PATH=${PATH}:~/bin
  ```

  ```
  mkdir yocto            # this directory will be the top directory of the Yocto source code
  cd yocto
  repo init -u https://source.codeaurora.org/external/imx/imx-manifest  -b imx-linux-hardknott -m imx-5.10.35-2.0.0.xml
  repo sync
  ```
</pre></div>
</div>
<p>To build the Yocto Project, some packages need to be installed. The list of
packages required are:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>  ```
  sudo apt-get install gawk wget git-core diffstat unzip texinfo gcc-multilib \
  build-essential chrpath socat cpio python3 python3-pip python3-pexpect \
  xz-utils debianutils iputils-ping python3-git python3-jinja2 libegl1-mesa libsdl1.2-dev \
  pylint3 xterm
  ```
</pre></div>
</div>
<p>More information about the downloaded Yocto release can be found in the
corresponding i.MX Yocto Project User’s Guide which can be found at
<a class="reference external" href="https://www.nxp.com/imxlinux">NXP official website</a>.</p>
<p>Change the current directory to the top directory of the Yocto source code
and execute the commands below to generate the Yocto SDK:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>  ```
  MACHINE=imx8mmevk DISTRO=fsl-imx-xwayland source ./imx-setup-release.sh -b bld-xwayland
  bitbake imx-image-core -c populate_sdk
  ```
</pre></div>
</div>
<p>After the execution of the previous two commands, the SDK installation file
can be found at tmp/deploy/sdk as a shell script. With the test environment
of this document, the installation file name is:</p>
<blockquote>
<div><p>fsl-imx-xwayland-glibc-x86_64-imx-image-core-cortexa53-crypto-imx8mmevk-toolchain-5.10-hardknott.sh</p>
</div></blockquote>
<p>Change the current directory to the top directory of the Yocto source code
and execute the commands below to generate the Yocto SD card image:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>  ```
  MACHINE=imx8mmevk DISTRO=fsl-imx-xwayland source ./imx-setup-release.sh -b bld-xwayland
  echo &quot;IMAGE_INSTALL_append += \&quot;libavahi-client\&quot;&quot; &gt;&gt; conf/local.conf
  bitbake imx-image-core
  ```
</pre></div>
</div>
<p>The Yocto image can be found at
tmp/deploy/images/imx8mmevk/imx-image-core-imx8mmevk.wic.bz2. The <code class="docutils literal notranslate"><span class="pre">bzip2</span></code>
command should be used to unzip this file then the <code class="docutils literal notranslate"><span class="pre">dd</span></code> command should be
used to program the output file to a microSD card by running the commands
below. Then the microSD card can be used with the <strong>i.MX 8M Mini EVK</strong>.</p>
<p><strong>Be cautious when executing the <code class="docutils literal notranslate"><span class="pre">dd</span></code> command below, make sure the <code class="docutils literal notranslate"><span class="pre">of</span></code>
represents the microSD card device!</strong>, <code class="docutils literal notranslate"><span class="pre">/dev/sdc</span></code> in the command below
represents a microSD card connected to the host machine with a USB adapter,
however the output device name may vary.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>  ```
  bzip2 -d imx-image-core-imx8mmevk-20210812084502.rootfs.wic.bz2
  sudo dd if=imx-image-core-imx8mmevk-20210812084502.rootfs.wic of=/dev/sdc bs=4M conv=fsync
  ```
</pre></div>
</div>
</li>
<li><p>Install the NXP Yocto SDK and set toolchain environment variables.</p>
<p>Execute the SDK installation file with root permission.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>  ```
  sudo tmp/deploy/sdk/fsl-imx-xwayland-glibc-x86_64-imx-image-full-cortexa53-crypto-imx8mmevk-toolchain-5.10-hardknott.sh
  ```
</pre></div>
</div>
<p>After the Yocto SDK is installed on the host machine, to use the SDK when
building the CHIP Linux Examples, export a shell environment variable named
<code class="docutils literal notranslate"><span class="pre">IMX_SDK_ROOT</span></code> to specify the path of the SDK, for example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>  ```
  export IMX_SDK_ROOT=/opt/fsl-imx-xwayland/5.10-hardknott
  ```
</pre></div>
</div>
</li>
<li><p>Build the example application:</p>
<p>Building those examples with the Yocto SDK specified by the <code class="docutils literal notranslate"><span class="pre">IMX_SDK_ROOT</span></code>
has been integrated into the tool <code class="docutils literal notranslate"><span class="pre">build_examples.py</span></code> and the tool
<code class="docutils literal notranslate"><span class="pre">imxlinux_example.sh</span></code>. Choose one of them to build the examples.</p>
<p>Assuming that the working directory is changed to the top level directory of
this project.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>  ```
  git submodule update --init
  source scripts/activate.sh

  # If the all-clusters example is to be built
  ./scripts/build/build_examples.py --target imx-all-clusters-app build
  # or
  ./scripts/examples/imxlinux_example.sh examples/all-clusters-app/linux examples/all-clusters-app/linux/out/aarch64

  # If the lighting example is to be built
  ./scripts/build/build_examples.py --target imx-lighting-app  build
  # or
  ./scripts/examples/imxlinux_example.sh examples/lighting-app/linux examples/lighting-app/linux/out/aarch64

  # If the thermostat example is to be built
  ./scripts/build/build_examples.py  --target imx-thermostat build
  # or
  ./scripts/examples/imxlinux_example.sh examples/thermostat/linux examples/thermostat/linux/out/aarch64

  # If the chip-tool example is to be built
  ./scripts/build/build_examples.py  --target imx-chip-tool build
  # or
  ./scripts/examples/imxlinux_example.sh examples/chip-tool examples/chip-tool/out/aarch64

  # If the ota-provider example is to be built
  ./scripts/build/build_examples.py  --target imx-ota-provider-app build
  # or
  ./scripts/examples/imxlinux_example.sh examples/ota-provider-app/linux examples/ota-provider-app/linux/out/aarch64

  ```
</pre></div>
</div>
<p>If the <code class="docutils literal notranslate"><span class="pre">build_examples.py</span></code> is used, the executable files are built in the
subdirectories under out/, the subdirectory name is the same as the argument
specified after the option <code class="docutils literal notranslate"><span class="pre">--target</span></code> when build the examples.</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">imxlinux_example.sh</span></code> is used, the executable files are built in the
directory specified by the second parameter when build the examples.</p>
<p>The executable files can be executed on the <strong>i.MX 8M Mini EVK</strong> which
running the Yocto image previously generated as described in the sections
above.</p>
</li>
</ul>
</section>
<section id="commandline-arguments">
<h2>Commandline arguments<a class="headerlink" href="#commandline-arguments" title="Permalink to this headline">#</a></h2>
<p>The generated executable files supports to work with below commandline argument:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">--wifi</span></code></p>
<p>Enables Wi-Fi management feature. Required for Wi-Fi provisioning.</p>
<p>The Wi-Fi device on <strong>i.MX 8M Mini EVK</strong> is a module based on the NXP
88W8987 Wi-Fi/Bluetooth SoC.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--ble-device</span> <span class="pre">&lt;interface</span> <span class="pre">id&gt;</span></code></p>
<p>Use the specific Bluetooth interface for BLE advertisement and connections.</p>
<p><code class="docutils literal notranslate"><span class="pre">interface</span> <span class="pre">id</span></code>: the number after <code class="docutils literal notranslate"><span class="pre">hci</span></code> when listing BLE interfaces using the
<code class="docutils literal notranslate"><span class="pre">hciconfig</span></code> command, for example, <code class="docutils literal notranslate"><span class="pre">--ble-device</span> <span class="pre">1</span></code> means using <code class="docutils literal notranslate"><span class="pre">hci1</span></code>
interface. Default: <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p>
<p>The BLE device on <strong>i.MX 8M Mini EVK</strong> is a module based on the NXP 88W8987
Wi-Fi/Bluetooth SoC.</p>
</li>
</ul>
</section>
<section id="running-the-examples-on-i-mx-8m-mini-evk">
<h2>Running the Examples on i.MX 8M Mini EVK<a class="headerlink" href="#running-the-examples-on-i-mx-8m-mini-evk" title="Permalink to this headline">#</a></h2>
<p>The steps and commands to run any of the examples are quite similar.
Thermostat-app is used as an example below.</p>
<ul>
<li><p>Prerequisites</p>
<p>By following the <a class="reference internal" href="#building"><span class="std std-doc">Building</span></a> section of this document, the Yocto
image is cross-compiled and programmed to a microSD card.</p>
<p>Follow the steps below to setup the environment needed to run the example on
the <strong>i.MX 8M Mini EVK</strong>:</p>
<ul class="simple">
<li><p>Plug the microSD card with Yocto image into the SD-card slot of the
<strong>i.MX 8M</strong> <strong>Mini EVK</strong>.</p></li>
<li><p>Change the boot switch on the <strong>i.MX 8M Mini EVK</strong> board to boot from
MicroSD/SDHC2 based on the silkscreen print on the board.</p></li>
<li><p>Use a Type-A to Micro-B cable to connect the DEBUG port of the <strong>i.MX
8M</strong> <strong>Mini EVK</strong> to a host machine, and use a serial communication
program like minicom or Putty to connect to the debug interface.</p></li>
<li><p>Power on the board to boot up the Yocto image, logging in with user name
<code class="docutils literal notranslate"><span class="pre">root</span></code> via the serial communication program. There is password for the
root user in the default Yocto image configuration.</p></li>
<li><p>Copy the executable file chip-lighting-app to the <strong>i.MX 8M Mini EVK</strong>,
using either of the two methods below:</p>
<ul>
<li><p>Connect the <strong>i.MX 8M Mini EVK</strong> to ethernet via the onboard
ethernet port, then use the <code class="docutils literal notranslate"><span class="pre">scp</span></code> command on the host machine to
copy the executable file to the <strong>i.MX 8M Mini EVK</strong>.</p></li>
<li><p>Use a U-disk to copy the executable file between the build machine
and the <strong>i.MX 8M Mini EVK</strong>.</p></li>
</ul>
</li>
</ul>
<p>In order to test the CHIP protocol functions, another device on the same
network is needed to run the
<a class="reference external" href="https://github.com/project-chip/connectedhomeip/blob/master/src/controller/python">ChipDeviceController</a> tool to communicate with
the <strong>i.MX 8M Mini EVK</strong>.</p>
<p>The ChipDeviceController can be a laptop / workstation. Bluetooth
functionality is mandatory on this device.</p>
<p>For the test environment used with this document, a Raspberry Pi is used to
run the ChipDeviceController tool.</p>
<p>Follow the steps below to setup the controller environment on a Raspberry
Pi:</p>
<ul class="simple">
<li><p>Install Ubuntu Server 20.04.2 LTS on the Raspberry Pi with reference to
this page:
<a class="reference external" href="https://ubuntu.com/download/raspberry-pi">Install Ubuntu on a Raspberry Pi</a>.</p></li>
<li><p>Boot up Ubuntu on the Raspberry Pi</p></li>
<li><p>Clone this connectedhomeip project</p></li>
<li><p>Follow Python ChipDeviceController
<a class="reference external" href="https://github.com/project-chip/connectedhomeip/blob/master/src/controller/python/README.md">README.md</a> document. Refer to
the “Building and installing” part to build the tool.</p></li>
</ul>
</li>
<li><p>Running</p>
<ul>
<li><p>Initialize the BT device on the <strong>i.MX 8M Mini EVK</strong> board</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>  ```
  modprobe moal mod_para=nxp/wifi_mod_para.conf       # Load the Wi-Fi/BT firmware
  hciattach /dev/ttymxc0 any 115200 flow              # Initialize the BT device
  ```
</pre></div>
</div>
</li>
<li><p>Find the Bluetooth device id for <strong>i.MX 8M Mini EVK</strong> by executing the
command below. The number following string <code class="docutils literal notranslate"><span class="pre">hci</span></code> is the Bluetooth device
id, <code class="docutils literal notranslate"><span class="pre">0</span></code> in this example.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>  ```
  $ hciconfig
  hci0:   Type: Primary  Bus: USB
          BD Address: 00:1A:7D:DA:71:13  ACL MTU: 310:10  SCO MTU: 64:8
          UP RUNNING
          RX bytes:73311 acl:1527 sco:0 events:3023 errors:0
          TX bytes:48805 acl:1459 sco:0 commands:704 errors:0
  ```
</pre></div>
</div>
</li>
<li><p>Run the Linux Example App</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>  ```
  /home/root/thermostat-app --ble-device 0 --wifi  # The bluetooth device used is hci0 and support wifi network
  ```
</pre></div>
</div>
</li>
<li><p>Run <a class="reference external" href="https://github.com/project-chip/connectedhomeip/blob/master/src/controller/python">ChipDeviceController</a> on the
controller device to communicate with <strong>i.MX 8M Mini EVK</strong> running the
example.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>  ```
  $ sudo out/python_env/bin/chip-device-ctrl                                          # execute the tool
    chip-device-ctrl &gt; connect -ble 3840 20202021 8889                                # connect to i.MX 8M Mini EVK
    chip-device-ctrl &gt; zcl Thermostat SetpointRaiseLower 8889 1 0 mode=1 amount=10    # send command to i.MX 8M Mini EVK via BLE
  ```
</pre></div>
</div>
<p>(Note that the last two commands <code class="docutils literal notranslate"><span class="pre">connect</span> <span class="pre">-ble</span> <span class="pre">3840</span> <span class="pre">20202021</span> <span class="pre">8889</span></code> and
<code class="docutils literal notranslate"><span class="pre">zcl</span> <span class="pre">Thermostat</span> <span class="pre">SetpointRaiseLower</span> <span class="pre">8889</span> <span class="pre">1</span> <span class="pre">0</span> <span class="pre">mode=1</span> <span class="pre">amount=10</span></code> are Python
CHIP Device Controller commands, not shell commands. The 3840 is the
target device’s <code class="docutils literal notranslate"><span class="pre">discriminator</span></code>. The 20202021 is the <code class="docutils literal notranslate"><span class="pre">setup</span> <span class="pre">pin</span> <span class="pre">code</span></code>.
8889 is the <code class="docutils literal notranslate"><span class="pre">node</span> <span class="pre">id</span></code> and if not input 8889 a random node id will be
assigned.)</p>
<p>After the previous commands are executed, inspect the logs of both the
<strong>i.MX 8M Mini EVK</strong> and the controller device to observe connection and
control events.</p>
</li>
<li><p>Provision the <strong>i.MX 8M Mini EVK</strong> to a Wi-Fi AP with the following
commands by <code class="docutils literal notranslate"><span class="pre">NetworkCommissioning</span></code> Cluster.</p>
<p>Command <code class="docutils literal notranslate"><span class="pre">AddOrUpdateWiFiNetwork</span></code> sends the target Wi-Fi AP’s SSID and
password. The <code class="docutils literal notranslate"><span class="pre">${SSID}</span></code> and <code class="docutils literal notranslate"><span class="pre">${PASSWORD}</span></code> should be in plaintext format.
At this moment, Wi-Fi is still idle on the <strong>i.MX8 Mini EVK</strong>.</p>
<p>Command <code class="docutils literal notranslate"><span class="pre">ConnectNetwork</span></code> triggers the Wi-Fi AP connecting operation on
<strong>i.MX8 Mini EVK</strong>.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>    chip-device-ctrl &gt; zcl NetworkCommissioning AddOrUpdateWiFiNetwork 8889 0 0 ssid=str:${SSID} credentials=str:${PASSWORD} breadcrumb=0 timeoutMs=5000
    chip-device-ctrl &gt; zcl NetworkCommissioning ConnectNetwork 8889 0 0 networkID=str:${SSID} breadcrumb=0 timeoutMs=15000
</pre></div>
</div>
</li>
<li><p>Make sure the controller device is connected to the same network of this
Wi-Fi AP because the Wi-Fi connection is established between the Wi-Fi
AP and the <strong>i.MX8 Mini EVK</strong> and mDNS only works on local network.</p>
<p>Resolve the target device with DNS-SD and update the address of the
node.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>    chip-device-ctrl &gt; close-ble  # Shutdown the BLE connection
    chip-device-ctrl &gt; resolve 8889                                                    # The 8889 is the node ID.
    chip-device-ctrl &gt; zcl Thermostat SetpointRaiseLower 8889 1 0 mode=1 amount=10     # Now the ZCL command will be send via IP network.
</pre></div>
</div>
</li>
</ul>
</li>
</ul>
</section>
</section>


              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="nrfconnect_platform_overview.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">nRF Connect platform overview</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="nxp_k32w_android_commissioning.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Commissioning NXP K32W using Android CHIPTool</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Matter Contributors<br/>
  
      &copy; Copyright 2021, Matter Contributors.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>