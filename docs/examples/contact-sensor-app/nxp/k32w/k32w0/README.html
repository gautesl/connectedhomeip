
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>CHIP K32W061 Contact Sensor Example Application &#8212; Matter  documentation</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../../../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../../../../../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../../../../_static/pygments.css" />
    <link rel="stylesheet" href="../../../../../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../../../../../" id="documentation_options" src="../../../../../_static/documentation_options.js"></script>
    <script src="../../../../../_static/jquery.js"></script>
    <script src="../../../../../_static/underscore.js"></script>
    <script src="../../../../../_static/doctools.js"></script>
    <script src="../../../../../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <link rel="shortcut icon" href="../../../../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" />
    <link rel="next" title="MATTER CHEF APP" href="../../../../chef/README.html" />
    <link rel="prev" title="CHIP Linux Bridge Example" href="../../../../bridge-app/linux/README.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../../../../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../../../../../_static/logo.png" class="logo" alt="logo">
      
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Contents
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../QUICK_START.html">
   Quick Start
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../PROJECT_FLOW.html">
   Matter Project Flow
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../VSCODE_DEVELOPMENT.html">
   Visual Studio Code Development
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../../../../api/index.html">
   API
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../../api/device_runner.html">
     CHIP on-device testing
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../../api/device_runner_dispatch.html">
     CHIP on-device test dispatch
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../../../../discussion/index.html">
   Discussion
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../../discussion/lwip_ipv6.html">
     LwIP changes for Matter
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../../../../guides/index.html">
   Guides
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../../guides/BUILDING.html">
     Building Matter
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../../guides/README.html">
     Guides
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../../guides/access-control-guide.html">
     Access Control Guide
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../../guides/android_building.html">
     Building Android
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../../guides/chip_tool_guide.html">
     Working with the CHIP Tool
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../../guides/darwin.html">
     Testing with Apple Devices
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../../guides/infineon_psoc6_software_update.html">
     Matter Software Update with Infineon PSoC6 example applications
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../../guides/ip_commissioning.html">
     IP commissioning
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../../guides/matter-repl.html">
     Matter Python REPL
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../../guides/mbedos_add_new_target.html">
     Mbed-OS add new hardware target
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../../guides/mbedos_commissioning.html">
     Matter Arm Mbed OS provisioning guide
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../../guides/mbedos_platform_overview.html">
     Mbed-OS platform overview
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../../guides/nrfconnect_android_commissioning.html">
     Commissioning nRF Connect Accessory using Android CHIPTool
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../../guides/nrfconnect_examples_cli.html">
     Using CLI in nRF Connect examples
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../../guides/nrfconnect_examples_configuration.html">
     Configuring nRF Connect examples
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../../guides/nrfconnect_examples_software_update.html">
     Performing Device Firmware Upgrade in the nRF Connect examples
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../../guides/nrfconnect_factory_data_configuration.html">
     Configuring factory data for the nRF Connect examples
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../../guides/nrfconnect_platform_overview.html">
     nRF Connect platform overview
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../../guides/nxp_imx8m_linux_examples.html">
     Building and Running CHIP Linux Examples for i.MX 8M Mini EVK
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../../guides/nxp_k32w_android_commissioning.html">
     Commissioning NXP K32W using Android CHIPTool
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../../guides/openiotsdk_commissioning.html">
     Commissioning Open IoT SDK devices
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../../guides/openiotsdk_platform_overview.html">
     Open IoT SDK platform port
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../../guides/openthread_border_router_pi.html">
     Setup OpenThread Border Router on Raspberry Pi
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../../guides/openthread_rcp_nrf_dongle.html">
     Configuring OpenThread Radio Co-processor on nRF52840 Dongle
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../../guides/python_chip_controller_advanced_usage.html">
     Using Python CHIP Controller advanced features
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../../guides/python_chip_controller_building.html">
     Deprecation notice
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../../guides/silabs_efr32_building.html">
     Building Silicon Labs EFR32 examples
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../../guides/silabs_efr32_software_update.html">
     Matter Software Update with EFR32 example applications
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../../guides/simulated_device_linux.html">
     Simulated Device How-To (Linux)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../../guides/ti_platform_overview.html">
     Texas Instruments platform overview
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../../guides/troubleshooting_avahi.html">
     Troubleshooting Avahi
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../../../../../guides/esp32/README.html">
     Espressif (ESP32) Getting Started Guide
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
    <label for="toctree-checkbox-4">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../../../../../guides/esp32/build_app_and_commission.html">
       ESP32 Application Usage Guide
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../../../../guides/esp32/factory_data.html">
       Using ESP32 Factory Data Provider
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../../../../guides/esp32/flash_nvs_encryption.html">
       Flash and NVS encryption
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../../../../guides/esp32/ota.html">
       Matter OTA
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../../../../guides/esp32/rpc_console.html">
       RPC Console and Device Tracing
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../../../../guides/esp32/setup_idf_chip.html">
       Setup ESP-IDF and Matter Environment
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../../../../style/index.html">
   Style Guides
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../../style/STYLE_MAKEFILES.html">
     CHIP Makefile Style Guide
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../../style/style_guide.html">
     Matter Documentation Style Guide
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="../../../../index.html">
   Examples
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../all-clusters-app/ameba/README.html">
     CHIP Ameba All Clusters Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../all-clusters-app/cc13x2x7_26x2x7/README.html">
     Matter CC1352 CC2652 All-clusters Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../all-clusters-app/esp32/README.html">
     CHIP ESP32 All Clusters Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../all-clusters-app/infineon/psoc6/README.html">
     CHIP PSoC6 All Clusters Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../all-clusters-app/linux/README.html">
     Matter Linux/Mac All Clusters Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../all-clusters-app/mbed/README.html">
     Matter Arm Mbed OS All Clusters Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../all-clusters-app/nrfconnect/README.html">
     Matter nRF Connect All Clusters Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../all-clusters-app/nxp/mw320/README.html">
     Matter MW320 All Clusters Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../all-clusters-app/telink/Readme.html">
     Matter Telink All Clusters Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../all-clusters-minimal-app/ameba/README.html">
     CHIP Ameba All Clusters Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../all-clusters-minimal-app/cc13x2x7_26x2x7/README.html">
     Matter CC1352 CC2652 All-clusters Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../all-clusters-minimal-app/esp32/README.html">
     CHIP ESP32 All Clusters Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../all-clusters-minimal-app/infineon/psoc6/README.html">
     CHIP PSoC6 All Clusters Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../all-clusters-minimal-app/mbed/README.html">
     Matter Arm Mbed OS All Clusters Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../all-clusters-minimal-app/nrfconnect/README.html">
     Matter nRF Connect All Clusters Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../all-clusters-minimal-app/telink/Readme.html">
     Matter Telink All Clusters Minimal Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../bridge-app/esp32/README.html">
     CHIP ESP32 Bridge App Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../bridge-app/linux/README.html">
     CHIP Linux Bridge Example
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     CHIP K32W061 Contact Sensor Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../chef/README.html">
     MATTER CHEF APP
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../chef/README_DEVICE.html">
     Matter Shell - Device Layer module
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../chef/README_OTCLI.html">
     Matter Shell - OpenThread CLI pass-through
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../chef/README_SHELL.html">
     Matter Shell Reference
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../chef/nrfconnect/README.html">
     CHIP nRF Connect SDK Shell Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../chef/sample_app_util/README.html">
     Chef Build Conventions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../chip-tool/README.html">
     Matter Client Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../darwin-framework-tool/README.html">
     Matter darwin-framework-tool
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../dynamic-bridge-app/linux/README.html">
     CHIP Linux Bridge Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../java-matter-controller/README.html">
     Matter Controller Java App Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../lighting-app/ameba/README.html">
     CHIP Ameba Lighting Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../lighting-app/beken/README.html">
     Matter BEKEN Lighting Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../lighting-app/bouffalolab/README.html">
     <code class="docutils literal notranslate">
      <span class="pre">
       Bouffalo
      </span>
      <span class="pre">
       Lab
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../lighting-app/esp32/README.html">
     Matter ESP32 Lighting Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../lighting-app/genio/README.html">
     Matter
     <code class="docutils literal notranslate">
      <span class="pre">
       Genio
      </span>
     </code>
     Lighting Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../lighting-app/infineon/cyw30739/README.html">
     Matter CYW30739 Lighting Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../lighting-app/infineon/psoc6/README.html">
     CHIP PSoC6 Lighting Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../lighting-app/linux/README.html">
     CHIP Linux Lighting Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../lighting-app/mbed/README.html">
     Matter Arm Mbed OS Lighting Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../lighting-app/nrfconnect/README.html">
     Matter nRF Connect Lighting Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../lighting-app/nxp/k32w/k32w0/README.html">
     CHIP K32W061 Lighting Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../lighting-app/python/README.html">
     Python-based lighting example (bridge) device to DALI
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../lighting-app/qpg/README.html">
     Matter QPG6105 SDK
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../lighting-app/silabs/SiWx917/README.html">
     Matter EFR32 Lighting Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../lighting-app/silabs/efr32/README.html">
     Matter EFR32 Lighting Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../lighting-app/telink/README.html">
     Matter Telink Lighting Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../lighting-app/tizen/README.html">
     CHIP Tizen Lighting Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../lighting-app/qpg/APPLICATION.html">
     Matter QPG6105 Lighting Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../light-switch-app/ameba/README.html">
     CHIP Ameba Light Switch Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../light-switch-app/esp32/README.html">
     Matter ESP32 Light-switch Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../light-switch-app/genio/README.html">
     Matter
     <code class="docutils literal notranslate">
      <span class="pre">
       Genio
      </span>
     </code>
     Light Switch Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../light-switch-app/nrfconnect/README.html">
     Matter nRF Connect Light Switch Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../light-switch-app/silabs/efr32/README.html">
     Matter EFR32 Light Switch Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../light-switch-app/telink/README.html">
     Matter Telink Light Switch Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../lock-app/cc13x2x7_26x2x7/README.html">
     Matter CC1352 CC2652 Lock Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../lock-app/cc32xx/README.html">
     Matter
     <code class="docutils literal notranslate">
      <span class="pre">
       CC32XXSF
      </span>
     </code>
     Lock Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../lock-app/esp32/README.html">
     Matter ESP32 Lock Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../lock-app/genio/README.html">
     Matter
     <code class="docutils literal notranslate">
      <span class="pre">
       Genio
      </span>
     </code>
     Lock Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../lock-app/infineon/cyw30739/README.html">
     Matter CYW30739 Lock Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../lock-app/infineon/psoc6/README.html">
     Matter PSoC6 Lock Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../lock-app/linux/README.html">
     Lock Application for Linux
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../lock-app/mbed/README.html">
     Matter Arm Mbed OS Lock Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../lock-app/nrfconnect/README.html">
     Matter nRF Connect Lock Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../lock-app/nxp/k32w/k32w0/README.html">
     CHIP K32W061 Lock Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../lock-app/openiotsdk/README.html">
     Matter Open IoT SDK Lock-App Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../lock-app/qpg/README.html">
     Matter QPG6105 SDK
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../lock-app/silabs/efr32/README.html">
     Matter EFR32 Lock Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../lock-app/qpg/APPLICATION.html">
     Matter QPG6105 Lock Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../log-source-app/linux/README.html">
     log-source-app
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../minimal-mdns/README.html">
     Minimal mDNS example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../openiotsdk_examples.html">
     Matter Open IoT SDK Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../ota-provider-app/esp32/README.html">
     CHIP ESP32 OTA Provider Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../ota-provider-app/linux/README.html">
     ota-provider-app
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../ota-requestor-app/ameba/README.html">
     CHIP Ameba OTA Requestor Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../ota-requestor-app/esp32/README.html">
     CHIP ESP32 OTA Requestor Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../ota-requestor-app/genio/README.html">
     Matter
     <code class="docutils literal notranslate">
      <span class="pre">
       Genio
      </span>
     </code>
     Lighting Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../ota-requestor-app/infineon/cyw30739/README.html">
     Matter CYW30739 OTA Requestor Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../ota-requestor-app/linux/README.html">
     ota-requestor-app (Linux)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../ota-requestor-app/mbed/README.html">
     Matter Arm Mbed OS Lock Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../ota-requestor-app/telink/Readme.html">
     Build and flash
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../persistent-storage/cc13x2x7_26x2x7/README.html">
     Matter CC1352 CC2652 Persistent Storage Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../persistent-storage/efr32/README.html">
     CHIP EFR32 Persistent Storage Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../persistent-storage/esp32/README.html">
     CHIP ESP32 Persistent Storage Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../persistent-storage/infineon/psoc6/README.html">
     CHIP PSoC6 Persistent Storage Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../persistent-storage/linux/README.html">
     CHIP Linux Persistent Storage Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../persistent-storage/qpg/README.html">
     Matter QPG6105 SDK
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../persistent-storage/qpg/APPLICATION.html">
     CHIP QPG6105 Persistent Storage Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../pigweed-app/ameba/README.html">
     CHIP Ameba Pigweed Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../pigweed-app/efr32/README.html">
     CHIP EFR32 Pigweed Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../pigweed-app/esp32/README.html">
     CHIP ESP32 Pigweed Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../pigweed-app/mbed/README.html">
     Matter Arm Mbed OS Pigweed Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../pigweed-app/nrfconnect/README.html">
     Matter nRF Connect Pigweed Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../pump-app/cc13x2x7_26x2x7/README.html">
     Matter CC1352 CC2652 Pump Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../pump-app/nrfconnect/README.html">
     Matter nRF Connect Pump Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../pump-app/cc13x2x7_26x2x7/doc/programming-ccs.html">
     Programming and Debugging with CCS
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../pump-app/cc13x2x7_26x2x7/doc/programming-uniflash.html">
     Programming with UniFlash
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../pump-controller-app/cc13x2x7_26x2x7/README.html">
     Matter CC1352 CC2652 Pump Controller Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../pump-controller-app/nrfconnect/README.html">
     Matter nRF Connect Pump Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../pump-controller-app/cc13x2x7_26x2x7/doc/programming-ccs.html">
     Programming and Debugging with CCS
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../pump-controller-app/cc13x2x7_26x2x7/doc/programming-uniflash.html">
     Programming with UniFlash
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../shell/README.html">
     Matter Shell Reference
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../shell/README_DEVICE.html">
     Matter Shell - Device Layer module
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../shell/README_OTCLI.html">
     Matter Shell - OpenThread CLI pass-through
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../shell/README_SERVER.html">
     Matter Shell - App Server module
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../shell/cc13x2x7_26x2x7/README.html">
     Matter CC1352 CC2652 Shell Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../shell/mbed/README.html">
     Matter Arm Mbed OS Shell Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../shell/nrfconnect/README.html">
     Matter nRF Connect SDK Shell Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../shell/nxp/k32w/k32w0/README.html">
     CHIP NXP K32W Shell Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../shell/openiotsdk/README.html">
     Matter Open IoT SDK Shell Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../temperature-measurement-app/esp32/README.html">
     Matter ESP32 Temperature Sensor Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../thermostat/efr32/README.html">
     Matter EFR32 Thermostat Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../thermostat/genio/README.html">
     Matter
     <code class="docutils literal notranslate">
      <span class="pre">
       Genio
      </span>
     </code>
     Thermostat Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../thermostat/telink/Readme.html">
     Matter Telink Thermostat Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../tv-app/linux/README.html">
     CHIP TV Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../tv-casting-app/android/README.html">
     Matter TV Casting Android App Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../tv-casting-app/darwin/TvCasting/README.html">
     Matter TV Casting iOS App Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../tv-casting-app/linux/README.html">
     CHIP TV Casting App Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../window-app/nrfconnect/README.html">
     Matter nRF Connect Window Covering Example Application
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../window-app/silabs/efr32/README.html">
     Matter EFR32 Window Covering Example
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../BUG_REPORT.html">
   Reporting bugs
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../code_generation.html">
   Code generation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../ERROR_CODES.html">
   Matter SDK
   <code class="docutils literal notranslate">
    <span class="pre">
     CHIP_ERROR
    </span>
   </code>
   enums values
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Theme by the <a href="https://ebp.jupyterbook.org">Executable Book Project</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>
<a href="https://github.com/project-chip/connectedhomeip/edit/master/docs/examples/contact-sensor-app/nxp/k32w/k32w0/README.md"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="bottom"
title="Edit this page"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>

</a>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../../../../../_sources/examples/contact-sensor-app/nxp/k32w/k32w0/README.md.txt"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.md</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#introduction">
   Introduction
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#se051h-secure-element">
     SE051H Secure Element
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#bluetooth-le-advertising">
     Bluetooth LE Advertising
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#bluetooth-le-rendezvous">
     Bluetooth LE Rendezvous
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#thread-provisioning">
     Thread Provisioning
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#device-ui">
   Device UI
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#no-expansion-board">
     No expansion board
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#building">
   Building
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#known-issues">
   Known issues
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#manufacturing-data">
   Manufacturing data
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#flashing-and-debugging">
   Flashing and debugging
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#pigweed-tokenizer">
   Pigweed tokenizer
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#detokenizer-script">
     Detokenizer script
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#notes">
     Notes
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id1">
     Known issues
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#tinycrypt-ecc-operations">
   Tinycrypt ECC operations
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#building-steps">
     Building steps
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#ota">
   OTA
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#writing-the-ssbl">
     Writing the SSBL
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#writing-the-psect">
     Writing the PSECT
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#writing-the-application">
     Writing the application
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ota-testing">
     OTA Testing
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id2">
   Known issues
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#low-power">
   Low power
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id3">
   Known issues
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>CHIP K32W061 Contact Sensor Example Application</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#introduction">
   Introduction
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#se051h-secure-element">
     SE051H Secure Element
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#bluetooth-le-advertising">
     Bluetooth LE Advertising
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#bluetooth-le-rendezvous">
     Bluetooth LE Rendezvous
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#thread-provisioning">
     Thread Provisioning
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#device-ui">
   Device UI
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#no-expansion-board">
     No expansion board
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#building">
   Building
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#known-issues">
   Known issues
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#manufacturing-data">
   Manufacturing data
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#flashing-and-debugging">
   Flashing and debugging
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#pigweed-tokenizer">
   Pigweed tokenizer
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#detokenizer-script">
     Detokenizer script
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#notes">
     Notes
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id1">
     Known issues
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#tinycrypt-ecc-operations">
   Tinycrypt ECC operations
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#building-steps">
     Building steps
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#ota">
   OTA
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#writing-the-ssbl">
     Writing the SSBL
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#writing-the-psect">
     Writing the PSECT
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#writing-the-application">
     Writing the application
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ota-testing">
     OTA Testing
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id2">
   Known issues
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#low-power">
   Low power
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id3">
   Known issues
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section id="chip-k32w061-contact-sensor-example-application">
<h1>CHIP K32W061 Contact Sensor Example Application<a class="headerlink" href="#chip-k32w061-contact-sensor-example-application" title="Permalink to this headline">#</a></h1>
<p>The Project CHIP K32W061 Contact Sensor Example uses buttons to test changing
the lock and device states and LEDs to show the state of these changes. You can
use this example as a reference for creating your own application.</p>
<p>The example is based on
<a class="reference external" href="https://github.com/project-chip/connectedhomeip">Project CHIP</a> and the NXP K32W
SDK, and a simulated contact sensor over a low-power, 802.15.4 Thread network.</p>
<p>The example behaves as a Project CHIP accessory, that is a device that can be
paired into an existing Project CHIP network and can be controlled by this
network.</p>
<hr>
<ul>
<li><p><a class="reference internal" href="#chip-k32w061-contact-sensor-example-application"><span class="std std-doc">CHIP K32W0 Contact Sensor Example Application</span></a></p></li>
<li><p><a class="reference internal" href="#introduction"><span class="std std-doc">Introduction</span></a></p>
<ul class="simple">
<li><p><a class="reference internal" href="#bluetooth-le-advertising"><span class="std std-doc">Bluetooth LE Advertising</span></a></p></li>
<li><p><a class="reference internal" href="#bluetooth-le-rendezvous"><span class="std std-doc">Bluetooth LE Rendezvous</span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#device-ui"><span class="std std-doc">Device UI</span></a></p></li>
<li><p><a class="reference internal" href="#building"><span class="std std-doc">Building</span></a></p>
<ul class="simple">
<li><p><a class="reference internal" href="#known-issues"><span class="std std-doc">Known issues</span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#manufacturing-data"><span class="std std-doc">Manufacturing data</span></a></p></li>
<li><p><a class="reference internal" href="#flashing-and-debugging"><span class="std std-doc">Flashing and debugging</span></a></p></li>
<li><p><a class="reference internal" href="#pigweed-tokenizer"><span class="std std-doc">Pigweed Tokenizer</span></a></p>
<ul class="simple">
<li><p><a class="reference internal" href="#detokenizer-script"><span class="std std-doc">Detokenizer script</span></a></p></li>
<li><p><a class="reference internal" href="#notes"><span class="std std-doc">Notes</span></a></p></li>
<li><p><a class="reference internal" href="#id1"><span class="std std-doc">Known issues</span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#tinycrypt-ecc-operations"><span class="std std-doc">Tinycrypt ECC operations</span></a></p>
<ul class="simple">
<li><p><a class="reference internal" href="#building-steps"><span class="std std-doc">Building steps</span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#ota"><span class="std std-doc">OTA</span></a></p>
<ul class="simple">
<li><p><a class="reference internal" href="#writing-the-ssbl"><span class="std std-doc">Writing the SSBL</span></a></p></li>
<li><p><a class="reference internal" href="#writing-the-psect"><span class="std std-doc">Writing the PSECT</span></a></p></li>
<li><p><a class="reference internal" href="#writing-the-application"><span class="std std-doc">Writing the application</span></a></p></li>
<li><p><a class="reference internal" href="#ota-testing"><span class="std std-doc">OTA Testing</span></a></p></li>
<li><p><a class="reference internal" href="#id2"><span class="std std-doc">Known issues</span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#low-power"><span class="std std-doc">Low power</span></a></p>
<ul class="simple">
<li><p><a class="reference internal" href="#id3"><span class="std std-doc">Known issues</span></a></p></li>
</ul>
</hr>
</li>
</ul>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">#</a></h2>
<p><img alt="K32W061 DK6" src="https://github.com/project-chip/connectedhomeip/blob/master/examples/platform/nxp/k32w/k32w0/doc/images/k32w-dk6.jpg" /></p>
<p>The K32W061 contact sensor example application provides a working demonstration
of a connected contact sensor device, built using the Project CHIP codebase and
the NXP K32W061 SDK. The example supports remote access (e.g.: using CHIP Tool
from a mobile phone) and control of a simulated contact sensor over a low-power,
802.15.4 Thread network. It is capable of being paired into an existing Project
CHIP network along with other Project CHIP-enabled devices.</p>
<p>The example targets the
<a class="reference external" href="https://www.nxp.com/products/wireless/thread/k32w061-41-high-performance-secure-and-ultra-low-power-mcu-for-zigbeethread-and-bluetooth-le-5-0-with-built-in-nfc-option:K32W061_41">NXP K32W061 DK6</a>
development kit, but is readily adaptable to other K32W-based hardware.</p>
<p>The CHIP device that runs the contact sensor application is controlled by the
CHIP controller device over the Thread protocol. By default, the CHIP device has
Thread disabled, and it should be paired over Bluetooth LE with the CHIP
controller and obtain configuration from it. The actions required before
establishing full communication are described below.</p>
<p>The example also comes with a test mode, which allows to start Thread with the
default settings by pressing a button. However, this mode does not guarantee
that the device will be able to communicate with the CHIP controller and other
devices.</p>
<section id="se051h-secure-element">
<h3>SE051H Secure Element<a class="headerlink" href="#se051h-secure-element" title="Permalink to this headline">#</a></h3>
<p>Deployment of this firmware configuration requires the K32W061 board setups
using the K32W061 module board, SE051 Expansion board and Generic Expansion
board as shown below:</p>
<p><img alt="SE051H  + K32W061 DK6" src="https://github.com/project-chip/connectedhomeip/blob/master/examples/platform/nxp/k32w/k32w0/doc/images/k32w-se.jpg" /></p>
<p>The SE051H Secure Element extension may be used for best in class security and
offloading some of the Project CHIP cryptographic operations. Depending on your
hardware configuration, choose one of the options below (building with or
without Secure Element). NOTE: the SE051H is a derivative of the SE051 product
family (see http://www.nxp.com/SE051) including dedicated CHIP support in
addition to the SE051 feature set. See the material provided separately by NXP
for more details on SE051H.</p>
</section>
<section id="bluetooth-le-advertising">
<h3>Bluetooth LE Advertising<a class="headerlink" href="#bluetooth-le-advertising" title="Permalink to this headline">#</a></h3>
<p>In this example, to commission the device onto a Project CHIP network, it must
be discoverable over Bluetooth LE. For security reasons, you must start
Bluetooth LE advertising manually after powering up the device by pressing
Button USERINTERFACE.</p>
</section>
<section id="bluetooth-le-rendezvous">
<h3>Bluetooth LE Rendezvous<a class="headerlink" href="#bluetooth-le-rendezvous" title="Permalink to this headline">#</a></h3>
<p>In this example, the commissioning procedure (called rendezvous) is done over
Bluetooth LE between a CHIP device and the CHIP controller, where the controller
has the commissioner role.</p>
<p>To start the rendezvous, the controller must get the commissioning information
from the CHIP device. The data payload is encoded within a QR code, printed to
the UART console and shared using an NFC tag. For security reasons, you must
start NFC tag emulation manually after powering up the device by pressing
Button 4.</p>
</section>
<section id="thread-provisioning">
<h3>Thread Provisioning<a class="headerlink" href="#thread-provisioning" title="Permalink to this headline">#</a></h3>
<p>Last part of the rendezvous procedure, the provisioning operation involves
sending the Thread network credentials from the CHIP controller to the CHIP
device. As a result, device is able to join the Thread network and communicate
with other Thread devices in the network.</p>
</section>
</section>
<section id="device-ui">
<h2>Device UI<a class="headerlink" href="#device-ui" title="Permalink to this headline">#</a></h2>
<p>The example application provides a simple UI that depicts the state of the
device and offers basic user control. This UI is implemented via the
general-purpose LEDs and buttons built in to the OM15082 Expansion board
attached to the DK6 board.</p>
<p><strong>LED D2</strong> shows the overall state of the device and its connectivity. Four
states are depicted:</p>
<ul class="simple">
<li><p><em>Short Flash On (50ms on/950ms off)</em>  The device is in an
unprovisioned (unpaired) state and is waiting for a commissioning
application to connect.</p></li>
</ul>
<ul class="simple">
<li><p><em>Rapid Even Flashing (100ms on/100ms off)</em>  The device is in an
unprovisioned state and a commissioning application is connected via BLE.</p></li>
</ul>
<ul class="simple">
<li><p><em>Short Flash Off (950ms on/50ms off)</em>  The device is full
provisioned, but does not yet have full network (Thread) or service
connectivity.</p></li>
</ul>
<ul class="simple">
<li><p><em>Solid On</em>  The device is fully provisioned and has full network and
service connectivity.</p></li>
</ul>
<p><strong>LED D3</strong> shows the state of the simulated lock bolt. When the LED is lit the
bolt is extended (i.e. door locked); when not lit, the bolt is retracted (door
unlocked). The LED will flash whenever the simulated bolt is in motion from one
position to another.</p>
<p><strong>Button SW2</strong> can be used to reset the device to a default state. A short Press
Button SW2 initiates a factory reset. After an initial period of 3 seconds, LED2
D2 and D3 will flash in unison to signal the pending reset. After 6 seconds will
cause the device to reset its persistent configuration and initiate a reboot.
The reset action can be cancelled by press SW2 button at any point before the 6
second limit.</p>
<p><strong>Button SW3</strong> can be used to change the state of the simulated bolt. This can
be used to mimic a user manually operating the lock. The button behaves as a
toggle, swapping the state every time it is pressed.</p>
<p><strong>Button SW4</strong> can be used for joining a predefined Thread network advertised by
a Border Router. Default parameters for a Thread network are hard-coded and are
being used if this button is pressed.</p>
<p>The remaining two LEDs (D1/D4) and button (SW1) are unused.</p>
<p>Directly on the development board, <strong>Button USERINTERFACE</strong> can be used for
enabling Bluetooth LE advertising for a predefined period of time. Also, pushing
this button starts the NFC emulation by writing the onboarding information in
the NTAG.</p>
<section id="no-expansion-board">
<h3>No expansion board<a class="headerlink" href="#no-expansion-board" title="Permalink to this headline">#</a></h3>
<p>In case the <strong>OM15082</strong> Expansion board is not attached to the DK6 board, the
functionality of LED D2 and LED D3 is taken over by LED DS2, respectively LED
DS3, which can be found on the DK6 board.</p>
<p>Also, by long pressing the <strong>USERINTERFACE</strong> button, the factory reset action
will be initiated.</p>
</section>
</section>
<section id="building">
<h2>Building<a class="headerlink" href="#building" title="Permalink to this headline">#</a></h2>
<p>In order to build the Project CHIP example, we recommend using a Linux
distribution (the demo-application was compiled on Ubuntu 20.04).</p>
<ul>
<li><p>Download
<a class="reference external" href="https://cache.nxp.com/lgfiles/bsps/SDK_2_6_7_K32W061DK6.zip">K32W0 SDK 2.6.7</a>.</p></li>
<li><p>Start building the application either with Secure Element or without</p>
<ul class="simple">
<li><p>without Secure Element</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>user@ubuntu:~/Desktop/git/connectedhomeip$ export NXP_K32W0_SDK_ROOT=/home/user/Desktop/SDK_2_6_7_K32W061DK6/
user@ubuntu:~/Desktop/git/connectedhomeip$ ./third_party/nxp/k32w0_sdk/sdk_fixes/patch_k32w_sdk.sh
user@ubuntu:~/Desktop/git/connectedhomeip$ source ./scripts/activate.sh
user@ubuntu:~/Desktop/git/connectedhomeip$ cd examples/contact-sensor-app/nxp/k32w/k32w0
user@ubuntu:~/Desktop/git/connectedhomeip/examples/contact-sensor-app/nxp/k32w/k32w0$ gn gen out/debug --args=&quot;k32w0_sdk_root=\&quot;${NXP_K32W0_SDK_ROOT}\&quot; chip_with_OM15082=1 chip_with_ot_cli=0 is_debug=false chip_crypto=\&quot;tinycrypt\&quot; chip_with_se05x=0 chip_pw_tokenizer_logging=true mbedtls_repo=\&quot;//third_party/connectedhomeip/third_party/nxp/libs/mbedtls\&quot;&quot;
user@ubuntu:~/Desktop/git/connectedhomeip/examples/contact-sensor-app/nxp/k32w/k32w0$ ninja -C out/debug
user@ubuntu:~/Desktop/git/connectedhomeip/examples/contact-sensor-app/nxp/k32w/k32w0$ $NXP_K32W0_SDK_ROOT/tools/imagetool/sign_images.sh out/debug/
</pre></div>
</div>
<ul class="simple">
<li><p>with Secure element Exactly the same steps as above but set
chip_with_se05x=1 in the gn command and add argument
chip_enable_ota_requestor=false</p></li>
</ul>
</li>
</ul>
<p>Note that option chip_enable_ota_requestor=false are required for building with
Secure Element. These can be changed if building without Secure Element</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>-   for K32W041AM flavor:
    Exactly the same steps as above but set build_for_k32w041am=1 in the gn command.
    Also, select the K32W041AM SDK from the SDK Builder.
</pre></div>
</div>
<p>Also, in case the OM15082 Expansion Board is not attached to the DK6 board, the
build argument (chip_with_OM15082) inside the gn build instruction should be set
to zero. The argument chip_with_OM15082 is set to zero by default.</p>
<p>In case that Openthread CLI is needed, chip_with_ot_cli build argument must be
set to 1.</p>
<p>In case signing errors are encountered when running the sign_images.sh script
install the recommanded packages (python version &gt; 3, pip3, pycrypto,
pycryptodome):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>user@ubuntu:~$ python3 --version
Python 3.8.2
user@ubuntu:~$ pip3 --version
pip 20.0.2 from /usr/lib/python3/dist-packages/pip (python 3.8)
user@ubuntu:~$ pip3 list | grep -i pycrypto
pycrypto               2.6.1
pycryptodome           3.9.8
</pre></div>
</div>
<p>The resulting output file can be found in out/debug/chip-k32w0x-contact-example.</p>
</section>
<section id="known-issues">
<h2>Known issues<a class="headerlink" href="#known-issues" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li><p>When using Secure element and cross-compiling on Linux, log messages from
the Plug&amp;Trust middleware stack may not echo to the console.</p></li>
</ul>
</section>
<section id="manufacturing-data">
<h2>Manufacturing data<a class="headerlink" href="#manufacturing-data" title="Permalink to this headline">#</a></h2>
<p>See
<a class="reference external" href="https://github.com/project-chip/connectedhomeip/blob/master/examples/platform/nxp/doc/manufacturing_flow.md">Guide for writing manufacturing data on NXP devices</a>.</p>
</section>
<section id="flashing-and-debugging">
<h2>Flashing and debugging<a class="headerlink" href="#flashing-and-debugging" title="Permalink to this headline">#</a></h2>
<p>Program the firmware using the official
<a class="reference external" href="https://github.com/openthread/ot-nxp/tree/main/src/k32w0/k32w061#flash-binaries">OpenThread Flash Instructions</a>.</p>
<p>All you have to do is to replace the Openthread binaries from the above
documentation with <em>out/debug/chip-k32w0x-light-example.bin</em> if DK6Programmer is
used or with <em>out/debug/chip-k32w0x-light-example</em> if MCUXpresso is used.</p>
</section>
<section id="pigweed-tokenizer">
<h2>Pigweed tokenizer<a class="headerlink" href="#pigweed-tokenizer" title="Permalink to this headline">#</a></h2>
<p>The tokenizer is a pigweed module that allows hashing the strings. This greatly
reduces the flash needed for logs. The module can be enabled by building with
the gn argument <em>chip_pw_tokenizer_logging=true</em>. The detokenizer script is
needed for parsing the hashed scripts.</p>
<section id="detokenizer-script">
<h3>Detokenizer script<a class="headerlink" href="#detokenizer-script" title="Permalink to this headline">#</a></h3>
<p>The python3 script detokenizer.py is a script that decodes the tokenized logs
either from a file or from a serial port. It is located in the following path
<code class="docutils literal notranslate"><span class="pre">examples/platform/nxp/k32w/k32w0/scripts/detokenizer.py</span></code>.</p>
<p>The script can be used in the following ways:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">usage</span><span class="p">:</span> <span class="n">detokenizer</span><span class="o">.</span><span class="n">py</span> <span class="n">serial</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="o">-</span><span class="n">i</span> <span class="n">INPUT</span> <span class="o">-</span><span class="n">d</span> <span class="n">DATABASE</span> <span class="p">[</span><span class="o">-</span><span class="n">o</span> <span class="n">OUTPUT</span><span class="p">]</span>
<span class="n">usage</span><span class="p">:</span> <span class="n">detokenizer</span><span class="o">.</span><span class="n">py</span> <span class="n">file</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="o">-</span><span class="n">i</span> <span class="n">INPUT</span> <span class="o">-</span><span class="n">d</span> <span class="n">DATABASE</span> <span class="o">-</span><span class="n">o</span> <span class="n">OUTPUT</span>
</pre></div>
</div>
<p>The first parameter is either <em>serial</em> or <em>file</em> and it selects between decoding
from a file or from a serial port.</p>
<p>The second parameter is <em>-i INPUT</em> and it must se set to the path of the file or
the serial to decode from.</p>
<p>The third parameter is <em>-d DATABASE</em> and represents the path to the token
database to be used for decoding. The default path is
<em>out/debug/chip-k32w0x-contact-example-database.bin</em> after a successful build.</p>
<p>The forth parameter is <em>-o OUTPUT</em> and it represents the path to the output file
where the decoded logs will be stored. This parameter is required for file usage
and optional for serial usage. If not provided when used with serial port, it
will show the decoded log only at the stdout and not save it to file.</p>
</section>
<section id="notes">
<h3>Notes<a class="headerlink" href="#notes" title="Permalink to this headline">#</a></h3>
<p>The token database is created automatically after building the binary if the
argument <em>chip_pw_tokenizer_logging=true</em> was used.</p>
<p>The detokenizer script must be run inside the examples folder after a
successful run of the <em>scripts/activate.sh</em> script. The pw_tokenizer module used
by the script is loaded by the environment. An example of running the
detokenizer script to see logs of a contact-sensor app:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python3</span> <span class="o">../../../../../</span><span class="n">examples</span><span class="o">/</span><span class="n">platform</span><span class="o">/</span><span class="n">nxp</span><span class="o">/</span><span class="n">k32w</span><span class="o">/</span><span class="n">k32w0</span><span class="o">/</span><span class="n">scripts</span><span class="o">/</span><span class="n">detokenizer</span><span class="o">.</span><span class="n">py</span> <span class="n">serial</span> <span class="o">-</span><span class="n">i</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">ttyACM0</span> <span class="o">-</span><span class="n">d</span> <span class="n">out</span><span class="o">/</span><span class="n">debug</span><span class="o">/</span><span class="n">chip</span><span class="o">-</span><span class="n">k32w0x</span><span class="o">-</span><span class="n">contact</span><span class="o">-</span><span class="n">example</span><span class="o">-</span><span class="n">database</span><span class="o">.</span><span class="n">bin</span> <span class="o">-</span><span class="n">o</span> <span class="n">device</span><span class="o">.</span><span class="n">txt</span>
</pre></div>
</div>
</section>
<section id="id1">
<h3>Known issues<a class="headerlink" href="#id1" title="Permalink to this headline">#</a></h3>
<p>The building process will not update the token database if it already exists. In
case that new strings are added and the database already exists in the output
folder, it must be deleted so that it will be recreated at the next build.</p>
<p>Not all tokens will be decoded. This is due to a gcc/pw_tokenizer issue. The
pw_tokenizer creates special elf sections using attributes where the tokens and
strings will be stored. This sections will be used by the database creation
script. For template C++ functions, gcc ignores these attributes and places all
the strings by default in the .rodata section. As a result the database creation
script wont find them in the special-created sections.</p>
<p>If run, closed and rerun with the serial option on the same serial port, the
detokenization script will get stuck and not show any logs. The solution is to
unplug and plug the board and then rerun the script.</p>
</section>
</section>
<section id="tinycrypt-ecc-operations">
<h2>Tinycrypt ECC operations<a class="headerlink" href="#tinycrypt-ecc-operations" title="Permalink to this headline">#</a></h2>
<section id="building-steps">
<h3>Building steps<a class="headerlink" href="#building-steps" title="Permalink to this headline">#</a></h3>
<p>Note: This solution is temporary.</p>
<p>In order to use the tinycrypt ecc operations, use the following build arguments:</p>
<ul class="simple">
<li><p>Build without Secure element (<em>chip_with_se05x=0</em>), with tinycrypt enabled
(<em>chip_crypto=tinycrypt</em>) and with the <code class="docutils literal notranslate"><span class="pre">NXPmicro/mbedtls</span></code> library
(<em>mbedtls_repo=<code class="docutils literal notranslate"><span class="pre">\&quot;//third_party/connectedhomeip/third_party/nxp/libs/mbedtls\&quot;</span></code></em>).</p></li>
</ul>
<p>To disable tinycrypt ecc operations, simply build with <em>chip_crypto=mbedtls</em>
and with or without <em>mbedtls_repo</em>. If used with <em>mbedtls_repo</em> the mbedtls
implementation from <code class="docutils literal notranslate"><span class="pre">NXPmicro/mbedtls</span></code> library will be used.</p>
</section>
</section>
<section id="ota">
<h2>OTA<a class="headerlink" href="#ota" title="Permalink to this headline">#</a></h2>
<p>The internal flash needs to be prepared for the OTA process. First 16K of the
internal flash needs to be populated with a Secondary Stage Bootloader (SSBL)
related data while the last 8.5K of flash space is holding image directory
related data (PSECT). The space between these two zones will be filled by the
application.</p>
<section id="writing-the-ssbl">
<h3>Writing the SSBL<a class="headerlink" href="#writing-the-ssbl" title="Permalink to this headline">#</a></h3>
<p>The SSBL can ge generated from one of the SDK demo examples. The SDK demo
example needs to be compiled inside MCUXpresso with the define <em>PDM_EXT_FLASH</em>.
The SSBL demo application can be imported from the <em>Quickstart panel</em>: <em>Import
SDK example(s)</em> -&gt; select <em>wireless-&gt;framework-&gt;ssbl</em> application.</p>
<p><img alt="SSBL Application Select" src="https://github.com/project-chip/connectedhomeip/blob/master/examples/platform/nxp/k32w/k32w0/doc/images/ssbl_select.JPG" /></p>
<p>The SSBL project must be compiled using the PDM_EXT_FLASH define.</p>
<p><img alt="PDM_EXT_FLASH" src="https://github.com/project-chip/connectedhomeip/blob/master/examples/platform/nxp/k32w/k32w0/doc/images/pdm_ext_flash.JPG" /></p>
<p>Once compiled, the required ssbl file is called k32w061dk6_ssbl.bin</p>
<p><img alt="SSBL_BIN" src="https://github.com/project-chip/connectedhomeip/blob/master/examples/platform/nxp/k32w/k32w0/doc/images/ssbl_bin.JPG" /></p>
<p>Before writing the SSBL, it it recommanded to fully erase the internal flash:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DK6Programmer</span><span class="o">.</span><span class="n">exe</span> <span class="o">-</span><span class="n">V</span> <span class="mi">5</span> <span class="o">-</span><span class="n">P</span> <span class="mi">1000000</span> <span class="o">-</span><span class="n">s</span> <span class="o">&lt;</span><span class="n">COM_PORT</span><span class="o">&gt;</span> <span class="o">-</span><span class="n">e</span> <span class="n">Flash</span>
</pre></div>
</div>
<p>k32w061dk6_ssbl.bin must be written at address 0 in the internal flash:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DK6Programmer</span><span class="o">.</span><span class="n">exe</span> <span class="o">-</span><span class="n">V2</span> <span class="o">-</span><span class="n">s</span> <span class="o">&lt;</span><span class="n">COM_PORT</span><span class="o">&gt;</span> <span class="o">-</span><span class="n">P</span> <span class="mi">1000000</span> <span class="o">-</span><span class="n">Y</span> <span class="o">-</span><span class="n">p</span> <span class="n">FLASH</span><span class="o">@</span><span class="mh">0x00</span><span class="o">=</span><span class="s2">&quot;k32w061dk6_ssbl.bin&quot;</span>
</pre></div>
</div>
</section>
<section id="writing-the-psect">
<h3>Writing the PSECT<a class="headerlink" href="#writing-the-psect" title="Permalink to this headline">#</a></h3>
<p>First, image directory 0 must be written:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DK6Programmer</span><span class="o">.</span><span class="n">exe</span> <span class="o">-</span><span class="n">V5</span> <span class="o">-</span><span class="n">s</span> <span class="o">&lt;</span><span class="n">COM</span> <span class="n">port</span><span class="o">&gt;</span> <span class="o">-</span><span class="n">P</span> <span class="mi">1000000</span> <span class="o">-</span><span class="n">w</span> <span class="n">image_dir_0</span><span class="o">=</span><span class="mi">0000000010000000</span>
</pre></div>
</div>
<p>Here is the interpretation of the fields:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">00000000</span> <span class="o">-&gt;</span> <span class="n">start</span> <span class="n">address</span> <span class="mh">0x00000000</span>
<span class="mi">1000</span>     <span class="o">-&gt;</span> <span class="n">size</span> <span class="o">=</span> <span class="mh">0x0010</span> <span class="n">pages</span> <span class="n">of</span> <span class="mi">512</span><span class="o">-</span><span class="nb">bytes</span> <span class="p">(</span><span class="o">=</span> <span class="mi">8</span><span class="n">kB</span><span class="p">)</span>
<span class="mi">00</span>       <span class="o">-&gt;</span> <span class="ow">not</span> <span class="n">bootable</span> <span class="p">(</span><span class="n">only</span> <span class="n">used</span> <span class="n">by</span> <span class="n">the</span> <span class="n">SSBL</span> <span class="n">to</span> <span class="n">support</span> <span class="n">SSBL</span> <span class="n">update</span><span class="p">)</span>
<span class="mi">00</span>       <span class="o">-&gt;</span> <span class="n">SSBL</span> <span class="n">Image</span> <span class="n">Type</span>
</pre></div>
</div>
<p>Second, image directory 1 must be written:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DK6Programmer</span><span class="o">.</span><span class="n">exe</span> <span class="o">-</span><span class="n">V5</span> <span class="o">-</span><span class="n">s</span> <span class="o">&lt;</span><span class="n">COM</span> <span class="n">port</span><span class="o">&gt;</span> <span class="o">-</span><span class="n">P</span> <span class="mi">1000000</span> <span class="o">-</span><span class="n">w</span> <span class="n">image_dir_1</span><span class="o">=</span><span class="mi">00400000</span><span class="n">C9040101</span>
</pre></div>
</div>
<p>Here is the interpretation of the fields:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">00400000</span> <span class="o">-&gt;</span> <span class="n">start</span> <span class="n">address</span> <span class="mh">0x00004000</span>
<span class="n">CD04</span>     <span class="o">-&gt;</span> <span class="mh">0x4C9</span> <span class="n">pages</span> <span class="n">of</span> <span class="mi">512</span><span class="o">-</span><span class="nb">bytes</span> <span class="p">(</span><span class="o">=</span> <span class="mi">612</span><span class="p">,</span><span class="mi">5</span><span class="n">kB</span><span class="p">)</span>
<span class="mi">01</span>       <span class="o">-&gt;</span> <span class="n">bootable</span> <span class="n">flag</span>
<span class="mi">01</span>       <span class="o">-&gt;</span> <span class="n">image</span> <span class="nb">type</span> <span class="k">for</span> <span class="n">the</span> <span class="n">application</span>
</pre></div>
</div>
</section>
<section id="writing-the-application">
<h3>Writing the application<a class="headerlink" href="#writing-the-application" title="Permalink to this headline">#</a></h3>
<p>DK6Programmer can be used for flashing the application:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DK6Programmer</span><span class="o">.</span><span class="n">exe</span> <span class="o">-</span><span class="n">V2</span> <span class="o">-</span><span class="n">s</span> <span class="o">&lt;</span><span class="n">COM_PORT</span><span class="o">&gt;</span> <span class="o">-</span><span class="n">P</span> <span class="mi">1000000</span> <span class="o">-</span><span class="n">Y</span> <span class="o">-</span><span class="n">p</span> <span class="n">FLASH</span><span class="o">@</span><span class="mh">0x4000</span><span class="o">=</span><span class="s2">&quot;chip-k32w0x-light-example.bin&quot;</span>
</pre></div>
</div>
<p>If debugging is needed, MCUXpresso can be used then for flashing the
application. Please make sure that the application is written at address 0x4000:</p>
<p><img alt="FLASH_LOCATION" src="https://github.com/project-chip/connectedhomeip/blob/master/examples/platform/nxp/k32w/k32w0/doc/images/flash_location.JPG" /></p>
</section>
<section id="ota-testing">
<h3>OTA Testing<a class="headerlink" href="#ota-testing" title="Permalink to this headline">#</a></h3>
<p>The OTA topology used for OTA testing is illustrated in the figure below.
Topology is similar with the one used for Matter Test Events.</p>
<p><img alt="OTA_TOPOLOGY" src="https://github.com/project-chip/connectedhomeip/blob/master/examples/platform/nxp/k32w/k32w0/doc/images/ota_topology.JPG" /></p>
<p>The concept for OTA is the next one:</p>
<ul class="simple">
<li><p>there is an OTA Provider Application that holds the OTA image. In our case,
this is a Linux application running on an Ubuntu based-system;</p></li>
<li><p>the OTA Requestor functionality is embedded inside the Lighting Application.
It will be used for requesting OTA blocks from the OTA Provider;</p></li>
<li><p>the controller (a linux application called chip-tool) will be used for
commissioning both the device and the OTA Provider App. The device will be
commissioned using the standard Matter flow (BLE + IEEE 802.15.4) while the
OTA Provider Application will be commissioned using the <em>onnetwork</em> option
of chip-tool;</p></li>
<li><p>during commissioning, each device is assigned a node id by the chip-tool
(can be specified manually by the user). Using the node id of the device and
of the lighting application, chip-tool triggers the OTA transfer by invoking
the <em>announce-ota-provider</em> command - basically, the OTA Requestor is
informed of the node id of the OTA Provider Application.</p></li>
</ul>
<p><em>Computer #1</em> can be any system running an Ubuntu distribution. We recommand
using TE 7.5 instructions from
<a class="reference external" href="https://groups.csa-iot.org/wg/matter-csg/document/24839">here</a>, where RPi 4 are
proposed. Also, TE 7.5 instructions document point to the OS/Docker images that
should be used on the RPis. For compatibility reasons, we recommand compiling
chip-tool and OTA Provider applications with the same commit id that was used
for compiling the Lighting Application. Also, please note that there is a single
controller (chip-tool) running on Computer #1 which is used for commissioning
both the device and the OTA Provider Application. If needed,
<a class="reference external" href="https://itsfoss.com/connect-wifi-terminal-ubuntu/">these instructions</a> could be
used for connecting the RPis to WiFi.</p>
<p>Build the Linux OTA provider application:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>user@computer1:~/connectedhomeip$ : ./scripts/examples/gn_build_example.sh examples/ota-provider-app/linux out/ota-provider-app chip_config_network_layer_ble=false
</pre></div>
</div>
<p>Build OTA image and start the OTA Provider Application:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>user@computer1:~/connectedhomeip$ : ./src/app/ota_image_tool.py create -v 0xDEAD -p 0xBEEF -vn 1 -vs &quot;1.0&quot; -da sha256 chip-k32w0x-light-example.bin chip-k32w0x-light-example.ota
user@computer1:~/connectedhomeip$ : rm -rf /tmp/chip_*
user@computer1:~/connectedhomeip$ : ./out/ota-provider-app/chip-ota-provider-app -f chip-k32w0x-light-example.ota
</pre></div>
</div>
<p>Build Linux chip-tool:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>user@computer1:~/connectedhomeip$ : ./scripts/examples/gn_build_example.sh examples/chip-tool out/chip-tool-app
</pre></div>
</div>
<p>Provision the OTA provider application and assign node id <em>1</em>. Also, grant ACL
entries to allow OTA requestors:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>user@computer1:~/connectedhomeip$ : rm -rf /tmp/chip_*
user@computer1:~/connectedhomeip$ : ./out/chip-tool-app/chip-tool pairing onnetwork 1 20202021
user@computer1:~/connectedhomeip$ : ./out/chip-tool-app/chip-tool accesscontrol write acl &#39;[{&quot;fabricIndex&quot;: 1, &quot;privilege&quot;: 5, &quot;authMode&quot;: 2, &quot;subjects&quot;: [112233], &quot;targets&quot;: null}, {&quot;fabricIndex&quot;: 1, &quot;privilege&quot;: 3, &quot;authMode&quot;: 2, &quot;subjects&quot;: null, &quot;targets&quot;: null}]&#39; 1 0
</pre></div>
</div>
<p>Provision the device and assign node id <em>2</em>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>user@computer1:~/connectedhomeip$ : ./out/chip-tool-app/chip-tool pairing ble-thread 2 hex:&lt;operationalDataset&gt; 20202021   3840
</pre></div>
</div>
<p>Start the OTA process:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>user@computer1:~/connectedhomeip$ : ./out/chip-tool-app/chip-tool otasoftwareupdaterequestor announce-ota-provider 1 0 0 0 2 0
</pre></div>
</div>
</section>
</section>
<section id="id2">
<h2>Known issues<a class="headerlink" href="#id2" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li><p>SRP cache on the openthread border router needs to flushed each time a new
commissioning process is attempted. For this, factory reset the device, then
execute <em>ot-ctl server disable</em> followed by <em>ot-ctl server enable</em>. After
this step, the commissioning process of the device can start;</p></li>
<li><p>Due to some MDNS issues, the commissioning of the OTA Provider Application
may fail. Please make sure that the SRP cache is disabled (<em>ot-ctl srp
server disable</em>) on the openthread border router while commissioning the OTA
Provider Application;</p></li>
<li><p>No other Docker image should be running (e.g.: Docker image needed by Test
Harness) except the OTBR one. A docker image can be killed using the
command:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>user@computer1:~/connectedhomeip$ : sudo docker kill $container_id
</pre></div>
</div>
<ul class="simple">
<li><p>In order to avoid MDNS issues, only one interface should be active at one
time. E.g.: if WiFi is used then disable the Ethernet interface and also
disable multicast on that interface:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>user@computer1:~/connectedhomeip$ sudo ip link set dev eth0 down
user@computer1:~/connectedhomeip$ sudo ifconfig eth0 -multicast
</pre></div>
</div>
<ul class="simple">
<li><p>If OTBR Docker image is used, then the -B parameter should point to the
interface used for the backbone.</p></li>
<li><p>If Wi-Fi is used on a RPI4, then a 5Ghz network should be selected.
Otherwise, issues related to BLE-WiFi combo may appear.</p></li>
</ul>
</section>
<section id="low-power">
<h2>Low power<a class="headerlink" href="#low-power" title="Permalink to this headline">#</a></h2>
<p>The example also offers the possibility to run in low power mode. This means
that the board will go in a deep power down mode most of the time and the power
consumption will be very low.</p>
<p>In order build with low power support, the <em>chip_with_low_power=1</em> must be
provided to the build system. In this case, please note that the GN build
arguments chip<em>with_OM15082 and _chip_with_ot_cli</em> must be set to 0.</p>
<p>In order to maintain a low power consumption, the LEDs showing the state of the
elock and the internal state are disabled. Console logs can be used instead.
Also, please note that once the board is flashed with MCUXpresso the debugger
disconnects because the board enters low power.</p>
<p>Power Measurement Tool can be used inside MCUXpresso for checking the power
consumption pattern: Window -&gt; Show View -&gt; Other -&gt; Power Measurement Tool. The
configuration for this tool is the next one:</p>
<p><img alt="POWER_CONF" src="https://github.com/project-chip/connectedhomeip/blob/master/examples/platform/nxp/k32w/k32w0/doc/images/power_conf.JPG" /></p>
<p>Also, please make sure that the J14 jumper is set to the <em>ENABLED</em> position and
no expansion board is attached to the DK6. A view from this tool is illustrated
below:</p>
<p><img alt="POWER_VIEW" src="https://github.com/project-chip/connectedhomeip/blob/master/examples/platform/nxp/k32w/k32w0/doc/images/power_view.JPG" /></p>
<p>Please note that that the Power Measurement Tool is not very accurate and
professional tools must be used if exact power consumption needs to be known.</p>
</section>
<section id="id3">
<h2>Known issues<a class="headerlink" href="#id3" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li><p>Power Measurement Tool may not work correctly in MCUXpresso versions greater
that 11.0.1.</p></li>
</ul>
</section>
</section>


              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="../../../../bridge-app/linux/README.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">CHIP Linux Bridge Example</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="../../../../chef/README.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">MATTER CHEF APP</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Matter Contributors<br/>
  
      &copy; Copyright 2022, Matter Contributors.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>